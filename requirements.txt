# ComfyUI Motion Transfer Requirements
# Minimal requirements to avoid conflicts with other ComfyUI nodes

# NOTE: Most dependencies (torch, numpy, opencv, Pillow) are already installed
# by ComfyUI or other custom nodes. We only install what's missing.

# Core dependencies - already in ComfyUI, listed for reference
# torch>=2.0.0 (SEA-RAFT needs 2.2.0+, but RAFT works with 2.0.0+)
# torchvision>=0.15.0
# numpy>=1.24.0 (compatible with 1.x and 2.x)
# opencv-python>=4.6.0 (compatible with 4.6.0-4.12.0+)
# opencv-contrib-python>=4.6.0 (for guided filter - ximgproc module)
# Pillow>=10.0.0

# Optical flow models - BUNDLED IN PACKAGE!
# Both RAFT and SEA-RAFT code is included in raft_vendor/ and searaft_vendor/
# No external repositories needed!

# HuggingFace Hub (required for SEA-RAFT automatic model downloads)
# Optional if you only use RAFT models
huggingface-hub>=0.20.0

# Image I/O
imageio>=2.31.0

# Mesh processing (for Pipeline B)
scipy>=1.11.0

# Utilities
tqdm>=4.66.0

# Optional: High-res file formats (EXR export)
# If this fails to install on Windows, you can still use PNG/JPG output
# OpenEXR>=1.3.0

# Optional: Depth estimation (for Pipeline C)
# Only needed if you want real depth estimation (experimental feature)
# timm>=0.9.0

# ============================================================================
# INSTALLATION INSTRUCTIONS
# ============================================================================
#
# 1. Install base requirements (this file):
#    pip install -r requirements.txt
#
# 2. Download RAFT model weights (required for RAFT models):
#
#    Windows PowerShell:
#      cd ComfyUI/models
#      mkdir raft
#      cd raft
#      Invoke-WebRequest -Uri "https://dl.dropboxusercontent.com/s/4j4z58wuv8o0mfz/models.zip" -OutFile "models.zip"
#      Expand-Archive -Path "models.zip" -DestinationPath "." -Force
#
#    Linux/Mac:
#      cd ComfyUI/models
#      mkdir -p raft
#      cd raft
#      wget https://dl.dropboxusercontent.com/s/4j4z58wuv8o0mfz/models.zip
#      unzip models.zip
#
# 3. (Optional) For SEA-RAFT models:
#    No manual download needed! Models auto-download from HuggingFace on first use.
#    Requires: huggingface-hub (already in requirements.txt above)
#
# 4. (Optional) For EXR support on Windows:
#    pip install OpenEXR>=1.3.0
#    If this fails, EXR export won't work but PNG/JPG will still work.
#
# 5. Restart ComfyUI
#
# ============================================================================
# DEPENDENCY CONFLICTS
# ============================================================================
#
# If you see dependency conflicts with other custom nodes:
# - This is normal in ComfyUI environments
# - The package will work with a wide range of versions
# - opencv-python: Works with 4.6.0 - 4.12.0+
# - numpy: Works with both 1.x (e.g., 1.26.4) and 2.x (e.g., 2.2.6)
# - torch: SEA-RAFT needs 2.2.0+, RAFT works with 2.0.0+
#
# If other nodes require older versions (e.g., nerfstudio needs opencv 4.6.0):
# - Don't upgrade those packages
# - Motion Transfer will work with the older versions
# - You may not be able to use SEA-RAFT (needs torch 2.2.0+)
# - Use original RAFT instead, which works with older versions
#
# ============================================================================
